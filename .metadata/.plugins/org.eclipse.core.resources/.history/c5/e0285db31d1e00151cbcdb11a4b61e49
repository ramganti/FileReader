<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:adfilesmodel="http://xsd.tns.tibco.com/adfiles/models/adfilesmodel" xmlns:common="http://xsd.tns.tibco.com/amf/models/adapter/common" xmlns:gac="http://xsd.tns.tibco.com/amf/models/adapter/gac">
  <adfilesmodel:FileAdapterConfiguration name="FileAdapter" instanceId="ContainerReader" services="/1" reporting="/9" logging="/10" advisories="/11 /12 /13 /14 /15" monitoring="/16" administration="/17" transports="/5 /4 /3 /2" channels="/8 /7 /6">
    <startup active="true" showBanner="true">
      <components active="true" componentName="DefaultRVSession"/>
      <components active="true" componentName="ExitSubscriber"/>
      <components active="true" componentName="DefaultRVRPCSession"/>
      <components active="true" componentName="UserExitClient"/>
      <components active="true" componentName="FAHawkDefaultSession"/>
      <components active="true" componentName="DefaultRVSession1"/>
      <components active="true" componentName="PublicationServiceEndPoint"/>
    </startup>
    <hawk help="fa custom hawk" microAgentName="fa_custom_hawk" transport="/2">
      <methods name="SetPollingInterval" help="Set polling interval for the specified Publication Service.">
        <inputParameters name="Publication Service" help="Name of the Publication Service. Mandatory" type="string"/>
        <inputParameters name="Polling Interval" help="New value for polling interval (in seconds). Mandatory" type="integer"/>
      </methods>
      <methods name="GetPollingInterval" help="Get the polling interval for the specified Publication Service. Default returns for all." index="Publication Service">
        <inputParameters name="Publication Service" help="Name of the Publication Service" type="string"/>
        <outputParameters name="Line" help="Row Number" type="integer"/>
        <outputParameters name="Publication Service" help="Name of the Publication Service" type="string"/>
        <outputParameters name="Polling Interval" help="Polling interval (in seconds) for the Publication Service" type="integer"/>
      </methods>
      <methods name="SetDocumentDelay" help="Set document delay for the specified Publication Service.">
        <inputParameters name="Publication Service" help="Name of the Publication Service. Mandatory" type="string"/>
        <inputParameters name="Document Delay" help="New value for document delay (in milliseconds) for the Publication Service. Mandatory" type="integer"/>
      </methods>
      <methods name="GetDocumentDelay" help="Get document delay values for the specified Publication Service. Default returns all." index="Publication Service">
        <inputParameters name="Publication Service" help="Name of the Publication Service" type="string"/>
        <outputParameters name="Line" help="Row Number" type="integer"/>
        <outputParameters name="Publication Service" help="Name of the Publication Service" type="string"/>
        <outputParameters name="Document Delay" help="Document delay (in milliseconds) for the Publication Service" type="integer"/>
      </methods>
      <methods name="GetActivityStatisticsByServiceName" help="Retuns the total number of objects processed for each of the schemas associated with the specified service.  Also, returns the number of success and error objects" index="Schema Name">
        <inputParameters name="Service Name" help="Name of publication or subscription service" type="string"/>
        <outputParameters name="Operation" help="The type of operation this service performs (Read or Write)" type="string"/>
        <outputParameters name="Schema Name" help="Name of the schema that is associated with this service" type="string"/>
        <outputParameters name="Total" help="Publisher: Total number of objects processed for this schema. Subscriber: Total number of objects received for this schema" type="string"/>
        <outputParameters name="Success" help="The number of objects that were successfully identified for this schema which will be published (publication service), or written to a file (subscription service" type="string"/>
        <outputParameters name="Error" help="The number of objects that were identified for this schema but were will not be published because the header of the schema failed validation(publication service), or writen to a file because the schema was not associated with the subscriber(subscription service) " type="string"/>
      </methods>
      <methods name="GetActivityStatisticsBySchema" help="Retuns the total number of objects processed for the given schema by each service that uses the schema. Also, returns the number of success and error objects" index="Service Name">
        <inputParameters name="Schema Name" help="Name of the schema" type="string"/>
        <outputParameters name="Service Name" help="Service name that is associated with this schema" type="string"/>
        <outputParameters name="Total" help="Publisher: Total number of objects processed for this schema. Subscriber: Total number of objects received for this schema" type="string"/>
        <outputParameters name="Success" help="The number of objects that were successfully identified for this schema which will be published (publication service), or written to a file (subscription service" type="string"/>
        <outputParameters name="Error" help="The number of objects that were identified for this schema but were will not be published because the header of the schema failed validation(publication service), or writen to a file because the schema was not associated with the subscriber(subscription service) " type="string"/>
      </methods>
      <methods name="GetActivityStatisticsByOperation" help="Returns the total number of objects processed for all the schemas by each service associated with the specified operation.  Also, returns the number of success and error objects" index="Service Name">
        <inputParameters name="Operation" help="Valid values for Operation are 'Read', 'Write'" type="string"/>
        <outputParameters name="Service Name" help="Name of the service that is associated with the specified operation" type="string"/>
        <outputParameters name="Total" help="Publisher: Total number of objects processed for this schema.\n Subscriber: Total number of objects received for this schema" type="string"/>
        <outputParameters name="Success" help="The number of objects that were successfully identified for this schema which will be published (publication service), or written to a file (subscription service" type="string"/>
        <outputParameters name="Error" help="The number of objects that were identified for this schema but were will not be published because the header of the schema failed validation(publication service), or writen to a file because the schema was not associated with the subscriber(subscription service) " type="string"/>
      </methods>
      <methods name="GetActivityStatistics" help="Based on the  request type returns the total number of objects processed for all the schemas.  Also, returns the number of success and error objects" index="Line">
        <inputParameters name="Type" help="Type = 0, returns statistics categorized by service, Type = 1 returns statistics categorized by Operation (Read or Write)" type="integer"/>
        <outputParameters name="Line" help="Row Number" type="integer"/>
        <outputParameters name="Name" help="Name of the service or Operation type" type="string"/>
        <outputParameters name="Total" help="Publisher: Total number of objects processed for this schema. Subscriber: Total number of objects received for this schema" type="string"/>
        <outputParameters name="Success" help="The number of objects that were successfully identified for this schema which will be published (publication service), or written to a file (subscription service" type="string"/>
        <outputParameters name="Error" help="The number of objects that were identified for this schema but were will not be published because the header of the schema failed validation(publication service), or writen to a file because the schema was not associated with the subscriber(subscription service) " type="string"/>
      </methods>
      <methods name="ResetActivityStatistics" help="Reset the counters"/>
    </hawk>
    <metadata>
      <loadUrl url="/AESchemas/ae/baseDocument.aeschema"/>
      <loadUrl url="/AESchemas/ae/FileAdapter/native/ContainerReader.aeschema"/>
      <loadUrl url="/AESchemas/ae/FileAdapter/wire/ContainerReader.aeschema"/>
    </metadata>
    <faDeployment>
      <faBObjects name="Item" type="FileAdapter.DelimitedBObject">
        <wireReference href="AESchemas/ae/FileAdapter/wire/ContainerReader.schema#Item"/>
        <nativeReference href="AESchemas/ae/FileAdapter/native/ContainerReader.schema#Item"/>
      </faBObjects>
      <faBObjects name="Employee" type="FileAdapter.DelimitedBObject">
        <wireReference href="AESchemas/ae/FileAdapter/wire/ContainerReader.schema#Employee"/>
        <nativeReference href="AESchemas/ae/FileAdapter/native/ContainerReader.schema#Employee"/>
      </faBObjects>
      <faBObjects name="Department" type="FileAdapter.DelimitedBObject">
        <wireReference href="AESchemas/ae/FileAdapter/wire/ContainerReader.schema#Department"/>
        <nativeReference href="AESchemas/ae/FileAdapter/native/ContainerReader.schema#Department"/>
      </faBObjects>
      <faSchemas name="ReadSchema" type="FileAdapter.readerGenerator">
        <headerReference href="AESchemas/ae/FileAdapter/native/ContainerReader.schema#Department"/>
      </faSchemas>
    </faDeployment>
  </adfilesmodel:FileAdapterConfiguration>
  <adfilesmodel:FAPublicationService name="PublicationService" description="ContainerReader is a publication service which demonstrates&#xA;the configuration for the working of the Container Class feature." transportConfiguration="/5" wireFormat="aeRvMsg" subject="container" channel="/8">
    <classReference href="AESchemas/ae/FileAdapter/wire/ContainerReader.schema#Department"/>
    <additionalClassReferences href="AESchemas/ae/FileAdapter/wire/ContainerReader.schema#Department"/>
    <fileReader fileEncoding="LATIN_1" eol="system" name="PublicationService" lifeCycle="continuous">
      <sft progressFileName="__ContainerReaderPublicationService.prg"/>
      <fileScanner fileName="container.txt" endScriptName="" endScriptArguments="" systemEncoding="UTF8" pollingInterval="30" startScriptName="" startScriptArguments="" inputBufferMaxSize="32">
        <substitutionBindings template="%%TIBCO_ADFILES_HOME_ESC%%/examples/reader/input" propName="inputDirectory"/>
        <substitutionBindings template="%%TIBCO_ADFILES_HOME_ESC%%/examples/reader/wip" propName="wipDirectory"/>
      </fileScanner>
      <collector>
        <businessDocument/>
        <name href="AESchemas/ae/FileAdapter/native/ContainerReader.schema#Department"/>
      </collector>
    </fileReader>
  </adfilesmodel:FAPublicationService>
  <common:RVConfiguration name="FAHawkDefaultSession">
    <substitutionBindings template="%%TIBHawkService%%" propName="service"/>
    <substitutionBindings template="%%TIBHawkNetwork%%" propName="network"/>
    <substitutionBindings template="%%TIBHawkDaemon%%" propName="daemon"/>
  </common:RVConfiguration>
  <common:RVConfiguration name="DefaultRVRPCSession">
    <substitutionBindings template="%%RvService%%" propName="service"/>
    <substitutionBindings template="%%RvNetwork%%" propName="network"/>
    <substitutionBindings template="%%RvDaemon%%" propName="daemon"/>
  </common:RVConfiguration>
  <common:RVConfiguration name="DefaultRVSession">
    <substitutionBindings template="%%RvService%%" propName="service"/>
    <substitutionBindings template="%%RvNetwork%%" propName="network"/>
    <substitutionBindings template="%%RvDaemon%%" propName="daemon"/>
  </common:RVConfiguration>
  <common:RVConfiguration name="DefaultRVSession1">
    <substitutionBindings template="%%RvService%%" propName="service"/>
    <substitutionBindings template="%%RvNetwork%%" propName="network"/>
    <substitutionBindings template="%%RvDaemon%%" propName="daemon"/>
  </common:RVConfiguration>
  <gac:ClientChannel name="UserExitClient" transportConfiguration="/3" wireFormat="rvMsg" endpointType="endpoint.RVRPCClient" invocationTimeout="60" channelType="client">
    <substitutionBindings template="%%Domain%%.%%Deployment%%.adfiles.%%InstanceId%%.userExit" propName="subject"/>
    <classReference href="AESchemas/ae/FileAdapter/operation.schema#Operation"/>
  </gac:ClientChannel>
  <gac:ConsumerChannel name="ExitSubscriber" transportConfiguration="/4" wireFormat="rvMsg" endpointType="endpoint.RVSubscriber" channelType="consumer">
    <substitutionBindings template="%%Domain%%.%%Deployment%%.adfiles.%%InstanceId%%.exit" propName="subject"/>
  </gac:ConsumerChannel>
  <gac:ProducerChannel name="PublicationServiceEndPoint" transportConfiguration="/5" wireFormat="aeRvMsg" subject="container" endpointType="endpoint.RVPublisher" channelType="producer">
    <classReference href="AESchemas/ae/FileAdapter/wire/ContainerReader.schema#Department"/>
  </gac:ProducerChannel>
  <gac:Reporting name="FileAdapter_Reporting">
    <sinks xsi:type="gac:FileSink" name="fileSink" fileLimit="30000" fileCount="3" appendMode="true">
      <substitutionBindings template="%%DirTrace%%/%%Deployment%%.%%InstanceId%%.log" propName="fileName"/>
      <roles name="infoRole"/>
      <roles name="errorRole"/>
      <roles name="warnRole"/>
    </sinks>
    <sinks xsi:type="gac:StdioSink" name="stdioSink">
      <roles name="infoRole"/>
      <roles name="errorRole"/>
      <roles name="warnRole"/>
    </sinks>
  </gac:Reporting>
  <gac:Logging name="FileAdapter_Logging">
    <substitutionBindings template="%%DirTrace%%/%%Deployment%%.%%InstanceId%%.log" propName="logfileName"/>
  </gac:Logging>
  <gac:Advisory name="advisory.rv.error" subject="_RV.ERROR.>"/>
  <gac:Advisory name="advisory.rv.warn" subject="_RV.WARN.>"/>
  <gac:Advisory name="advisory.sdk.error" subject="_SDK.ERROR.>"/>
  <gac:Advisory name="advisory.sdk.warn" subject="_SDK.WARN.>"/>
  <gac:Advisory name="advisory.sdk.info" subject="_SDK.INFO.>"/>
  <gac:Monitoring name="FileAdapter_Monitoring" standardMicroAgentTimeout="10000" classMicroAgentTimeout="10000" defaultMicroAgentTransport="/2">
    <substitutionBindings template="%%HawkEnabled%%" propName="enableClassMicroAgent"/>
    <substitutionBindings template="COM.TIBCO.adfiles.%%Deployment%%.%%InstanceId%%" propName="classMicroAgentName"/>
    <substitutionBindings template="COM.TIBCO.ADAPTER.adfiles.%%Deployment%%.%%InstanceId%%" propName="standardMicroAgentName"/>
  </gac:Monitoring>
  <gac:Administration name="FileAdapter_admin" stopSubjectOrTopic="%%Domain%%.%%Deployment%%.adfiles.%%InstanceId%%.exit"/>
</xmi:XMI>
